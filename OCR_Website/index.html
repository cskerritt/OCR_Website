<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF OCR Processor - Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="static/css/styles.css" rel="stylesheet">
    <meta name="description" content="A web application for OCR processing PDF files using OCRmyPDF. Upload your PDFs and get searchable text in your documents.">
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Navigation Bar -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <h1 class="text-xl font-bold text-gray-800">PDF OCR Processor</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="#demo" class="text-blue-600 hover:text-blue-800">Demo</a>
                    <a href="#about" class="text-blue-600 hover:text-blue-800">About</a>
                    <a href="#deployment" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Deploy</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Demo Alert -->
    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex">
                <div class="flex-shrink-0">
                    <svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                    </svg>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-yellow-700">
                        <strong>Demo Version:</strong> This is a demonstration of the OCR processor interface. 
                        OCR processing requires server-side resources and cannot run directly in the browser. 
                        <a href="#deployment" class="underline hover:text-yellow-800">See deployment instructions below</a> to set up the full functionality.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8" id="demo">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-4 text-gray-800">OCR Processing Tool</h2>

            <!-- Instructions Panel -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-xl font-semibold mb-4 text-gray-700">How to Use</h2>
                <div class="space-y-4">
                    <div id="step1" class="instruction-step p-3 border rounded-lg">
                        <div class="flex items-start">
                            <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0">1</div>
                            <div>
                                <h3 class="font-medium">Select Your Files</h3>
                                <p class="text-gray-600 text-sm mt-1">Drag and drop multiple PDF files or entire folders into the upload area below. You can also click "Select Files" for individual files or "Select Folder" to choose an entire directory.</p>
                            </div>
                        </div>
                    </div>
                    <div id="step2" class="instruction-step p-3 border rounded-lg">
                        <div class="flex items-start">
                            <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0">2</div>
                            <div>
                                <h3 class="font-medium">Review Your Selection</h3>
                                <p class="text-gray-600 text-sm mt-1">Check the list of selected files. Remove any files you don't want to process by clicking the X button next to them.</p>
                            </div>
                        </div>
                    </div>
                    <div id="step3" class="instruction-step p-3 border rounded-lg">
                        <div class="flex items-start">
                            <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0">3</div>
                            <div>
                                <h3 class="font-medium">Process Files</h3>
                                <p class="text-gray-600 text-sm mt-1">Click the "Process Files" button to start OCR processing. Wait for processing to complete - this may take a few minutes depending on the number and size of files.</p>
                            </div>
                        </div>
                    </div>
                    <div id="step4" class="instruction-step p-3 border rounded-lg">
                        <div class="flex items-start">
                            <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0">4</div>
                            <div>
                                <h3 class="font-medium">Download Results</h3>
                                <p class="text-gray-600 text-sm mt-1">Once processing is complete, click the "Download Processed Files" button to get your OCR'ed PDFs as a zip file.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Upload Area -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <div id="drop-zone" class="drop-zone rounded-lg p-8 text-center mb-6">
                    <div class="text-gray-600">
                        <svg class="mx-auto h-12 w-12 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                        </svg>
                        <p class="text-lg font-medium">Drag and drop your PDF files here</p>
                        <p class="text-sm mt-2">or</p>
                        <label for="file-input" class="mt-2 inline-block bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600 transition-colors">
                            Select Files
                        </label>
                        <input id="file-input" type="file" multiple accept=".pdf" class="hidden">
                        <label for="folder-input" class="mt-2 inline-block bg-purple-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-purple-600 transition-colors ml-2">
                            Select Folder
                        </label>
                        <input id="folder-input" type="file" webkitdirectory directory multiple accept=".pdf" class="hidden">
                        <p class="text-sm text-gray-500 mt-2">You can select multiple files or entire folders</p>
                        <p class="text-sm text-gray-500 mt-1">Maximum combined size: 1.5GB</p>
                    </div>
                </div>

                <div id="file-list" class="space-y-2 mb-6">
                    <!-- Files will be listed here -->
                </div>

                <div class="flex justify-center">
                    <button id="process-btn" class="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors" disabled>
                        Process Files (Demo)
                    </button>
                </div>

                <div id="progress" class="mt-6 hidden">
                    <div class="text-center text-gray-600 mb-2">Processing files...</div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>

                    <!-- File Progress Indicator -->
                    <div id="file-progress" class="mt-3 text-center text-sm text-gray-600 hidden">
                        Processing file <span id="current-file-index">0</span>/<span id="total-files">0</span>:
                        <span id="current-filename" class="font-medium"></span>
                        <div class="mt-1">
                            Time elapsed: <span id="time-elapsed">00:00</span>
                        </div>
                    </div>

                    <!-- Log Display Section -->
                    <div id="log-container" class="mt-4 border rounded-lg p-2 bg-gray-50">
                        <div class="flex justify-between items-center mb-2">
                            <h3 class="font-medium text-gray-700">Processing Logs</h3>
                            <div class="flex items-center">
                                <label class="text-xs text-gray-500 mr-2">Auto-scroll</label>
                                <input type="checkbox" id="auto-scroll" checked class="form-checkbox h-4 w-4 text-blue-600">
                            </div>
                        </div>
                        <div id="log-display" class="font-mono text-sm bg-gray-800 text-green-400 p-3 rounded h-64 overflow-y-auto">
                            <div class="log-entry">Demo mode: Processing simulation...</div>
                        </div>
                    </div>
                </div>

                <div id="error-section" class="mt-6 hidden">
                    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                        <strong class="font-bold">Processing Errors:</strong>
                        <div id="error-list" class="mt-2"></div>
                    </div>
                </div>

                <div id="download-section" class="mt-6 text-center hidden">
                    <div id="page-count-info" class="mb-4 p-3 bg-blue-50 text-blue-700 rounded-lg">
                        <p><strong>Total Pages:</strong> <span id="total-pages">0</span></p>
                        <div id="file-pages-list" class="mt-2 text-sm text-left"></div>
                    </div>
                    <div id="optimization-info" class="mb-4 p-3 bg-green-50 text-green-700 rounded-lg hidden">
                        <p><strong>Processing Optimizations:</strong></p>
                        <div class="mt-2 text-sm text-left">
                            <div><span id="cached-files">0</span> files loaded from cache</div>
                            <div><span id="optimized-files">0</span> large files optimized</div>
                            <div>Parallel processing: <span id="cpu-cores">0</span> CPU cores used</div>
                        </div>
                    </div>
                    <button id="download-link" class="inline-block bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 transition-colors">
                        Download Processed Files (Demo)
                    </button>
                </div>
            </div>

            <!-- About Section -->
            <div class="mt-8 bg-white rounded-lg shadow-lg p-6" id="about">
                <h2 class="text-2xl font-bold mb-4 text-gray-800">About This Application</h2>
                <div class="space-y-4 text-gray-600">
                    <p>This is a professional-grade PDF OCR (Optical Character Recognition) processor built with Flask and OCRmyPDF. It provides:</p>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Batch Processing:</strong> Process multiple PDF files simultaneously</li>
                        <li><strong>Folder Upload:</strong> Upload entire directories of PDFs at once</li>
                        <li><strong>Smart Optimization:</strong> Automatically optimizes large PDFs for faster processing</li>
                        <li><strong>Caching System:</strong> Avoids reprocessing identical files</li>
                        <li><strong>Progress Tracking:</strong> Real-time progress updates and logging</li>
                        <li><strong>Error Handling:</strong> Comprehensive error reporting and recovery</li>
                        <li><strong>User Authentication:</strong> Secure user accounts and session management</li>
                        <li><strong>Parallel Processing:</strong> Utilizes multiple CPU cores for optimal performance</li>
                        <li><strong>Drag & Drop:</strong> Support for dragging folders directly into the browser</li>
                    </ul>
                </div>
            </div>

            <!-- Deployment Instructions -->
            <div class="mt-8 bg-white rounded-lg shadow-lg p-6" id="deployment">
                <h2 class="text-2xl font-bold mb-4 text-gray-800">Deploy the Full Application</h2>
                <div class="space-y-4 text-gray-600">
                    <p>To deploy the full OCR processing functionality, you'll need a server environment. Here are the deployment options:</p>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="border rounded-lg p-4">
                            <h3 class="font-bold text-lg mb-2 text-gray-800">üê≥ Docker Deployment</h3>
                            <p class="text-sm mb-3">Easy deployment with Docker and Docker Compose</p>
                            <div class="bg-gray-100 p-3 rounded text-sm font-mono">
                                <div>git clone [repository]</div>
                                <div>cd OCR_Website</div>
                                <div>docker-compose up -d</div>
                            </div>
                        </div>
                        
                        <div class="border rounded-lg p-4">
                            <h3 class="font-bold text-lg mb-2 text-gray-800">‚òÅÔ∏è AWS Lightsail</h3>
                            <p class="text-sm mb-3">Deploy to AWS Lightsail with the included script</p>
                            <div class="bg-gray-100 p-3 rounded text-sm font-mono">
                                <div>chmod +x deploy-lightsail.sh</div>
                                <div>./deploy-lightsail.sh</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4">
                        <h4 class="font-bold text-blue-800">System Requirements:</h4>
                        <ul class="list-disc list-inside text-sm text-blue-700 mt-2">
                            <li>Python 3.8+</li>
                            <li>OCRmyPDF and dependencies (Tesseract, Ghostscript)</li>
                            <li>At least 2GB RAM (4GB+ recommended)</li>
                            <li>Docker (for containerized deployment)</li>
                        </ul>
                    </div>
                    
                    <div class="bg-green-50 border-l-4 border-green-400 p-4">
                        <h4 class="font-bold text-green-800">Features Available in Full Version:</h4>
                        <ul class="list-disc list-inside text-sm text-green-700 mt-2">
                            <li>Actual OCR processing with OCRmyPDF</li>
                            <li>User authentication and registration</li>
                            <li>File upload and processing</li>
                            <li>Progress tracking and cancellation</li>
                            <li>Download processed files</li>
                            <li>Processing cache and optimization</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="mt-6 text-center text-gray-600 text-sm">
                <div class="flex justify-center space-x-4 mb-4">
                    <button id="dark-mode-toggle" class="text-sm text-gray-600 hover:text-blue-600">
                        üåô Dark Mode
                    </button>
                </div>
                <div class="text-xs text-gray-500">
                    Version 1.1.0 - <a href="https://github.com/cskerritt/OCR_Website" class="hover:text-blue-500">GitHub Repository</a>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript files -->
    <script src="static/js/main.js"></script>
    <script src="static/js/demo.js"></script>
</body>
</html>